{"ast":null,"code":"var _jsxFileName = \"/Users/kishaonia/Documents/GitHub/SNOWLFB/frontend/src/components/Navigation/ProfileButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport * as sessionActions from \"../../store/session\";\nimport { useHistory } from \"react-router-dom\";\nimport OpenModalMenuItem from \"./OpenModalMenuItem\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport SignupFormModal from \"../SignupFormModal\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./ProfileButton.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProfileButton(_ref) {\n  _s();\n  let {\n    user\n  } = _ref;\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n  const ulRef = useRef();\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n  useEffect(() => {\n    if (!showMenu) return;\n    const closeMenu = e => {\n      if (!ulRef.current.contains(e.target)) {\n        setShowMenu(false);\n      }\n    };\n    document.addEventListener(\"click\", closeMenu);\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n  const closeMenu = () => setShowMenu(false);\n  const logout = e => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n    closeMenu();\n    history.push(\"/\");\n  };\n  const demoSignIn = e => {\n    e.preventDefault();\n    const password = \"password5\";\n    const credential = \"demouser@gmail.com\";\n    dispatch(sessionActions === null || sessionActions === void 0 ? void 0 : sessionActions.login({\n      credential,\n      password\n    }));\n    closeMenu();\n  };\n  const ulClassName = \"profile-dropdown\" + (showMenu ? \" show\" : \"\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: openMenu,\n      className: \"drop-down-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-bars\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-user-circle-o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-menu\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: ulClassName,\n        ref: ulRef,\n        children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Hello, \", user === null || user === void 0 ? void 0 : user.firstName, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: user === null || user === void 0 ? void 0 : user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dividing-line\",\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n            exact: true,\n            to: \"/spots/current\",\n            children: \"Manage Your Spots\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dividing-line\",\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-logout\",\n              onClick: logout,\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(OpenModalMenuItem, {\n            itemText: \"Log In\",\n            onItemClick: closeMenu,\n            modalComponent: /*#__PURE__*/_jsxDEV(LoginFormModal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OpenModalMenuItem, {\n            itemText: \"Sign Up\",\n            onItemClick: closeMenu,\n            modalComponent: /*#__PURE__*/_jsxDEV(SignupFormModal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), !user && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: demoSignIn,\n            type: \"submit\",\n            id: \"demo-user-button\",\n            children: \"Log in as Demo User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ProfileButton, \"HLXq4BOuiZHBNNkba/p/rCklhlU=\", false, function () {\n  return [useHistory, useDispatch];\n});\n_c = ProfileButton;\nexport default ProfileButton;\nvar _c;\n$RefreshReg$(_c, \"ProfileButton\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useDispatch","sessionActions","useHistory","OpenModalMenuItem","LoginFormModal","SignupFormModal","NavLink","ProfileButton","user","history","dispatch","showMenu","setShowMenu","ulRef","openMenu","closeMenu","e","current","contains","target","document","addEventListener","removeEventListener","logout","preventDefault","push","demoSignIn","password","credential","login","ulClassName","firstName","email"],"sources":["/Users/kishaonia/Documents/GitHub/SNOWLFB/frontend/src/components/Navigation/ProfileButton.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport * as sessionActions from \"../../store/session\";\nimport { useHistory } from \"react-router-dom\";\nimport OpenModalMenuItem from \"./OpenModalMenuItem\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport SignupFormModal from \"../SignupFormModal\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./ProfileButton.css\";\n\nfunction ProfileButton({ user }) {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n  const ulRef = useRef();\n\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n\n  useEffect(() => {\n    if (!showMenu) return;\n    const closeMenu = (e) => {\n      if (!ulRef.current.contains(e.target)) {\n        setShowMenu(false);\n      }\n    };\n\n    document.addEventListener(\"click\", closeMenu);\n\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const closeMenu = () => setShowMenu(false);\n\n  const logout = (e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n    closeMenu();\n    history.push(\"/\");\n  };\n\n  const demoSignIn = (e) => {\n    e.preventDefault();\n    const password = \"password5\"\n    const credential = \"demouser@gmail.com\"\n    dispatch(sessionActions?.login({ credential, password }));\n    closeMenu();\n  }\n\n  const ulClassName = \"profile-dropdown\" + (showMenu ? \" show\" : \"\" ) ;\n\n  return (\n    <>\n      <button onClick={openMenu} className=\"drop-down-menu\">\n        <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>\n        <i className=\"fa fa-user-circle-o\"></i>\n      </button>\n      <div className=\"profile-menu\">\n        <ul className={ulClassName} ref={ulRef}>\n          {user ? (\n            <>\n              <li>\n                Hello, {user?.firstName}!\n              </li>\n              <li>{user?.email}</li>\n            \n              <div className='dividing-line'> </div>\n                <NavLink exact to=\"/spots/current\">\n                  Manage Your Spots\n                </NavLink>\n              \n            \n              <li>\n              <div className='dividing-line'> </div>\n            \n                <button className=\"button-logout\" onClick={logout}>\n                  Log Out\n                </button>\n              </li>\n            </>\n          ) : (\n            <>\n              <OpenModalMenuItem\n                itemText=\"Log In\"\n                onItemClick={closeMenu}\n                modalComponent={<LoginFormModal />}\n              />\n              <OpenModalMenuItem\n                itemText=\"Sign Up\"\n                onItemClick={closeMenu}\n                modalComponent={<SignupFormModal />}\n              />\n              {!user && (\n                <button onClick={demoSignIn} type=\"submit\" id='demo-user-button'>\n                  Log in as Demo User\n                </button>\n              )}\n            </>\n          )}\n        </ul>\n      </div>\n    </>\n  );\n}\n\nexport default ProfileButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}